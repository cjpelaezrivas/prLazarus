<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml" lang="es" xml:lang="es">

<head>

	<meta charset="utf-8" />
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="generator" content="pandoc" />

		
	
	
	<title>Borrar archivos de un directorio [Java] [Windows]</title>

			<script src="site_libs/jquery-1.11.3/jquery.min.js"></script>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<link href="site_libs/bootstrap-3.3.5/css/bootstrap.min.css" rel="stylesheet" />
<script src="site_libs/bootstrap-3.3.5/js/bootstrap.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/html5shiv.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/respond.min.js"></script>
<script src="site_libs/navigation-1.1/tabsets.js"></script>
			<meta charset="utf-8" />
<meta http-equiv="content-type" content="text/html" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<meta name="author" content="Carlos J. Peláez Rivas" />
<meta name="description" content="prLázarus blog de programación" />
<meta name="keywords" content="blog,programación,programacion,programming,coding,code,desarrollo,development,java,carlos, jesús,jesus,peláez,pelaez,rivas,cjpelaez,cjpelaezrivas,málaga,malaga,uma,españa,spain" />

<link rel="icon" type="image/x-icon" href="images/favicon.ico"/>
<link rel="shortcut icon" type="image/x-icon" href="images/favicon.ico"/>

<link rel="stylesheet" type="text/css" href="css/font-awesome.min.css"/>
<link rel="stylesheet" type="text/css" href="css/lightbox.min.css"/>
<link rel="stylesheet" type="text/css" href="css/hint.base.min.css"/>

<link rel="stylesheet" type="text/css" href="css/base.css"/>
<link rel="stylesheet" type="text/css" href="css/main.css"/>
<link rel="stylesheet" type="text/css" href="css/toc.css"/>
<link rel="stylesheet" type="text/css" href="css/print.css" media="print"/>

<script src="js/scroll.js"></script>
<script src="js/lightbox.min.js"></script> <!-- http://lokeshdhakar.com/projects/lightbox2/ -->
<script>
	lightbox.option({
	  'albumLabel': "Imagen %1 de %2",
	  'fadeDuration': 250,
	  'resizeDuration': 250,
	  'wrapAround': true
	})
</script>

<link rel="stylesheet" type="text/css" href="//cdnjs.cloudflare.com/ajax/libs/cookieconsent2/3.0.3/cookieconsent.min.css" />
<script src="//cdnjs.cloudflare.com/ajax/libs/cookieconsent2/3.0.3/cookieconsent.min.js"></script>
<script>
window.addEventListener("load", function(){
window.cookieconsent.initialise({
  "palette": {
    "popup": {
      "background": "#d4d4d4",
      "text": "#151515"
    },
    "button": {
      "background": "#003379",
      "text": "#ffffff"
    }
  },
  "content": {
    "message": "Este sitio web utiliza cookies propias y de terceros para que tengas la mejor experiencia de usuario posible. Si continuas navegando estás aceptando el uso de las mencionadas cookies y la política de cookies.",
    "dismiss": "Aceptar",
    "link": "Más información",
    "href": "http://prlazarus.tk/md_cookies_policy.html"
  }
})});
</script>

<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-74491738-2"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-74491738-2');
</script>
	
	
			<style type="text/css">code{white-space: pre;}</style>
		<style type="text/css">
			div.sourceCode { overflow-x: auto; }
table.sourceCode, tr.sourceCode, td.lineNumbers, td.sourceCode {
  margin: 0; padding: 0; vertical-align: baseline; border: none; }
table.sourceCode { width: 100%; line-height: 100%; }
td.lineNumbers { text-align: right; padding-right: 4px; padding-left: 4px; color: #aaaaaa; border-right: 1px solid #aaaaaa; }
td.sourceCode { padding-left: 5px; }
code > span.kw { color: #007020; font-weight: bold; } /* Keyword */
code > span.dt { color: #902000; } /* DataType */
code > span.dv { color: #40a070; } /* DecVal */
code > span.bn { color: #40a070; } /* BaseN */
code > span.fl { color: #40a070; } /* Float */
code > span.ch { color: #4070a0; } /* Char */
code > span.st { color: #4070a0; } /* String */
code > span.co { color: #60a0b0; font-style: italic; } /* Comment */
code > span.ot { color: #007020; } /* Other */
code > span.al { color: #ff0000; font-weight: bold; } /* Alert */
code > span.fu { color: #06287e; } /* Function */
code > span.er { color: #ff0000; font-weight: bold; } /* Error */
code > span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
code > span.cn { color: #880000; } /* Constant */
code > span.sc { color: #4070a0; } /* SpecialChar */
code > span.vs { color: #4070a0; } /* VerbatimString */
code > span.ss { color: #bb6688; } /* SpecialString */
code > span.im { } /* Import */
code > span.va { color: #19177c; } /* Variable */
code > span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code > span.op { color: #666666; } /* Operator */
code > span.bu { } /* BuiltIn */
code > span.ex { } /* Extension */
code > span.pp { color: #bc7a00; } /* Preprocessor */
code > span.at { color: #7d9029; } /* Attribute */
code > span.do { color: #ba2121; font-style: italic; } /* Documentation */
code > span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code > span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code > span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
					</style>

					<style type="text/css">
				pre:not([class]) {
					background-color: white;
				}
			</style>
			
	
			<style type="text/css">
			h1 {
				font-size: 34px;
			}
			h1.title {
				font-size: 38px;
			}
			h2 {
				font-size: 30px;
			}
			h3 {
				font-size: 24px;
			}
			h4 {
				font-size: 18px;
			}
			h5 {
				font-size: 16px;
			}
			h6 {
				font-size: 12px;
			}
			.table th:not([align]) {
				text-align: left;
			}
					</style>
	
	
</head>

<body>

			<style type = "text/css">
			.main-container {
				max-width: 940px;
				margin-left: auto;
				margin-right: auto;
			}
			code {
				color: inherit;
				background-color: rgba(0, 0, 0, 0.04);
			}
			img {
				max-width:100%;
				height: auto;
			}
			.tabbed-pane {
				padding-top: 12px;
			}
			button.code-folding-btn:focus {
				outline: none;
			}
		</style>

		
		<div class="container-fluid main-container">

		<!-- tabsets -->
		<script>
			$(document).ready(function () {
				window.buildTabsets("TOC");
			});
		</script>

		<!-- code folding -->
		
			
			<link rel="stylesheet" type="text/css" href="css/navbar.css"/>

<div id="navbar">
	<div id="zoneA">
		<div class="content">
			<div id="logo">
				<a href="./"><img src="images/logo.png" alt="prLázarus logo"/></a>
			</div>

			<div id="subtitle">
				Blog de desarrollo de proyectos Software, tutoriales, consejos y varios.
			</div>
		</div>
	</div>
	<div id="zoneB">
		<div class="content">
			<div id="menu">
				<a class="menuItem" href="./"><i class="fa fa-home"></i><span class="text"> Página principal</span></a>
				<a class="menuItem" href="http://cjpelaezrivas.tk"><i class="fa fa-user-circle"></i><span class="text"> Sobre mí</span></a>
			</div>
		</div>
	</div>
</div>
	
			<div class="fluid-row" id="header">

				
						<h1 class="title toc-ignore ">Borrar archivos de un directorio [Java] [Windows]</h1>
				<!--
				-->
					<h4 class="date"><em>viernes, 2 de mayo de 2014</em></h4>
				<!--
				-->
					<b>Etiquetas</b>
			<div id="tag_section">
									<a class="tag" href="md_search.html?tag=Java">Java</a>
									<a class="tag" href="md_search.html?tag=Tutoriales">Tutoriales</a>
									<a class="tag" href="md_search.html?tag=Utilidades">Utilidades</a>
							</div>
				<!--
				-->
	
			</div>
	
	
				
	<p>Buenas,<br> hoy vamos a ver como borrar todos los archivos dentro de un directorio o únicamente los archivos con una extensión dada.</p>
<p>Esto es muy sencillo. Únicamente copiamos el siguiente código en una clase en nuestro proyecto y lo llamamos con el directorio, la antigüedad y la extensión de archivos a eliminar.</p>
<div class="sourceCode"><pre class="sourceCode java"><code class="sourceCode java"><span class="kw">private</span> <span class="dt">void</span> <span class="fu">borrarContenidoDirectorio</span>(<span class="bu">String</span> direccion, <span class="dt">int</span> numDias, <span class="bu">String</span> extension) {
    <span class="bu">File</span> directorio = <span class="kw">new</span> <span class="bu">File</span>(direccion);
    <span class="kw">if</span> (directorio.<span class="fu">exists</span>() &amp;&amp; directorio.<span class="fu">isDirectory</span>()) {
        <span class="bu">File</span> f;
        <span class="dt">long</span> t;
        <span class="kw">for</span> (<span class="bu">String</span> archivo : directorio.<span class="fu">list</span>()) {
            f = <span class="kw">new</span> <span class="bu">File</span>(direccion + <span class="bu">File</span>.<span class="fu">separator</span> + archivo);
            t = (<span class="bu">System</span>.<span class="fu">currentTimeMillis</span>() - f.<span class="fu">lastModified</span>());
            <span class="co">// long cantidadDia = (t / 86400000);</span>
            <span class="co">// 86400000 ms es equivalente a un día (24 horas)</span>
            <span class="kw">if</span> ((extension == <span class="kw">null</span> &amp;&amp; t &gt; (<span class="dv">86400000</span> * numDias))
                    || (archivo.<span class="fu">contains</span>(<span class="st">&quot;.&quot;</span> + extension) &amp;&amp; t &gt; (<span class="dv">86400000</span> * numDias))) {
                f.<span class="fu">delete</span>();
                f.<span class="fu">deleteOnExit</span>();
            }
        }
    }
}</code></pre></div>
<p>El código no necesita mucha explicación. Es simple, y creo que efectivo para cualquier aplicación. En el caso de que se quiera borrar todos los archivos dentro de un directorio usar el útimo argumento como “null”.</p>
<p>Y si queréis borrar de forma recursiva a través de distintos directorios emparentados, la implementación sería muy sencilla a partir de esta. A continuación un método para borrar todo el contenido de un directorio, sea el que sea, y a él mismo al final del proceso.</p>
<div class="sourceCode"><pre class="sourceCode java"><code class="sourceCode java"><span class="kw">private</span> <span class="dt">void</span> <span class="fu">borrarDirectorio</span>(<span class="bu">String</span> direccion) {
    <span class="bu">File</span> directorio = <span class="kw">new</span> <span class="bu">File</span>(direccion);
    <span class="kw">if</span> (directorio.<span class="fu">exists</span>() &amp;&amp; directorio.<span class="fu">isDirectory</span>()) {
        <span class="bu">File</span> f;
        <span class="kw">for</span> (<span class="bu">String</span> archivo : directorio.<span class="fu">list</span>()) {
            f = <span class="kw">new</span> <span class="bu">File</span>(direccion + <span class="bu">File</span>.<span class="fu">separator</span> + archivo);
            <span class="kw">if</span> (f.<span class="fu">isDirectory</span>()) {
                <span class="fu">borrarDirectorio</span>(f.<span class="fu">getAbsolutePath</span>());
                f.<span class="fu">delete</span>();
                f.<span class="fu">deleteOnExit</span>();
            } <span class="kw">else</span> { <span class="co">//Es un archivo</span>
                f.<span class="fu">delete</span>();
                f.<span class="fu">deleteOnExit</span>();
            }
        }

        <span class="co">//Borrar las 2 siguientes líneas para no eliminar el directorio raíz</span>
        directorio.<span class="fu">delete</span>();
        directorio.<span class="fu">deleteOnExit</span>();
    }
}</code></pre></div>
<p>No deberíais tener problemas al copiar el código y pegarlo en vuestro IDE para que todo salga tal y como aparece en el blog. Yo lo he probado hasta ahora con Eclipse y funciona bien.</p>
<p>Me gustaría decir que aunque en el título se indica que el algoritmo es para Windows es por el único motivo de que ha sido en el único sistema operativo que lo he probado. Dada la naturaleza de Java, su ejecución no debería tener ningún inconveniente en cualquier otra plataforma.</p>
<p>Espero que sea útil a alguien. Hasta la próxima.</p>
<p>Saludos,<br> Lázarus Surazal.</p>

			<link rel="stylesheet" type="text/css" href="css/relations.css"/>
<div id="relationsContainer">
<span class="relatedTitle">Entradas relacionadas</span>
<ul>
<li>
<a href="md_2014_06_10.html">Copiar directorio y contenido [Java] [Windows]</a>
</li>
<li>
<a href="md_2014_08_07.html">Plantilla Java para lectura y escritura de ficheros de texto</a>
</li>
<li>
<a href="md_2015_08_24.html">Hilo (Thread) con eventos [Java]</a>
</li>
<li>
<a href="md_2016_09_22.html">Imprimir por consola nombre y valor de variables [Eclipse] [Java]</a>
</li>
</ul>
</div>
<link rel="stylesheet" type="text/css" href="css/navigation.css"/>
<hr>
<div id="navigationContainer">
<a class="item hint--bottom-left navigateButton right" href="md_2014_06_10.html" data-hint="Copiar directorio y contenido [Java] [Windows]">Siguiente <i class="fa fa-arrow-right"></i></a><a class="item hint--bottom-right navigateButton left" href="md_2013_06_13.html" data-hint="Java3D - Decisión de no llevar a cabo la serie de tutoriales"><i class="fa fa-arrow-left"></i> Anterior</a><a class="navigateButton center" href="./"><i class="fa fa-home"></i> Volver a la página principal</a>
</div>
	
			<link rel="stylesheet" type="text/css" href="css/info.css"/>

<div id="infoContainer">
	<div id="infoProfile" class="info_block" style="width:65%;">
		<div class="title">
			<b>Perfil</b>
		</div>
		<div class="content">
			<div class="part photo">
				<img src="images/logo_b.png" width="90px" alt="prLázarus logo info" />
			</div>
			<div class="part description">
				<b>Carlos J. Peláez Rivas (Lázarus Surazal)</b> <br>
				Graduado y Máster en Ingeniería Informática por la Universidad de Málaga. Actualmente trabajando como desarrollador de aplicaciones en Java usando Vaadin.<br>
				Apasionado de los videojuegos, la música y alguna que otra tecnología, siempre buscando cosas nuevas que aprender y hacer. <br>
				<a href="http://cjpelaezrivas.tk">Más sobre mi...</a>
			</div>
		</div>
	</div>
	<div id="infoContact" class="info_block" style="width:35%;">
		<div class="title">
			<b>Contacto</b>
		</div>
		<div class="content links">
			<div class="item hint--bottom-right" data-hint="Perfil personal">
				<a href="http://cjpelaezrivas.tk"><i class="fa fa-user-circle" style="font-size:38.5px; position:relative; top:-1px;"></i></a>
			</div>
			<div class="item hint--bottom-right" data-hint="Enviar correo electrónico">
				<a href="mailto:cjpelaezrivas@gmail.com"><i class="fa fa-envelope-square"></i></a>
			</div>
			<div class="item hint--bottom-right" data-hint="Perfil de GitHub">
				<a href="https://github.com/cjpelaezrivas"><i class="fa fa-github-square"></i></a>
			</div>
			<div class="item hint--bottom-right" data-hint="Perfil de LinkedIn">
				<a href="https://www.linkedin.com/in/cjpelaezrivas"><i class="fa fa-linkedin-square"></i></a>
			</div>
		</div>
	</div>
</div>
			<div id="commentsContainer" style="float:left; width:100%;">
	<script src="https://utteranc.es/client.js"
		repo="cjpelaezrivas/prLazarus"
		issue-term="title"
		crossorigin	="anonymous"
		async>
	</script>
	<noscript>
		<div class="block warning icon fa-exclamation" style="margin-bottom:20px;">
			Por favor, activa JavaScript para ver los comentarios.
		</div>
	</noscript>
</div>
			<link rel="stylesheet" type="text/css" href="css/footer.css"/>

<div id="footer_message">
	¿Has encontrado algún error? <a href="mailto:correcciones@prlazarus.tk">Mándame un correo electrónico para corregirlo</a>. Gracias.
</div>
<div id="footer">
	<div class="content">
		<div id="logo_footer">
			<a href="http://prlazarus.tk"><img src="images/logo_c.png" alt="prLázarus logo footer" style="margin-top:10px;"/></a>
			<!-- <span class="text" style="display:block; text-align:center; margin-top:-4px;">© 2012 - 2018</span> -->
		</div>
		<div id="right_column" class="text">
			Hecho en <a href="https://es.wikipedia.org/wiki/Espa%C3%B1a"><img src="images/spain.png" style="margin: -2px 2px 0 2px;" alt="Spain flag"/></a> con <i class="fa fa-heart" style="color:#cc0000"></i> por <a href="http://prlazarus.tk">prLázarus</a><br>
			<i class="fa fa-plug"></i> <i>Con la tecnología de <a href="http://rmarkdown.rstudio.com/index.html">R Markdown</a> y <a href="https://pages.github.com/">GitHub Pages</a></i><br>
			<i><a href="md_cookies_policy.html">Política de cookies</a></i>
			&nbsp;|&nbsp;
			<i><a href="md_disclaimer.html">Limitación de responsabilidad</a></i><br>
			<a href="mailto:info@prlazarus.tk">info@prlazarus.tk</a>
		</div>
	</div>
</div>
			<link rel="stylesheet" type="text/css" href="css/progressBar.css"/>

<div id="progressBarContainer">
	<div class="progressBar">
	</div>
</div>

<script src="js/progressBar.js"></script>
	
			
		</div>

		<script>
			// add bootstrap table styles to pandoc tables
			function bootstrapStylePandocTables() {
				$('tr.header').parent('thead').parent('table').addClass('table table-condensed');
			}

			$(document).ready(function () {
				bootstrapStylePandocTables();
			});

					</script>
	
	</body>
</html>
