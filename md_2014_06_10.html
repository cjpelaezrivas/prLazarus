<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">

<head>

<meta charset="utf-8" />
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="generator" content="pandoc" />




<title>Copiar directorio y contenido [Java] [Windows]</title>

<script src="site_libs/jquery-1.11.3/jquery.min.js"></script>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<link href="site_libs/bootstrap-3.3.5/css/bootstrap.min.css" rel="stylesheet" />
<script src="site_libs/bootstrap-3.3.5/js/bootstrap.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/html5shiv.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/respond.min.js"></script>
<script src="site_libs/navigation-1.1/tabsets.js"></script>
<link href="site_libs/highlightjs-9.12.0/textmate.css" rel="stylesheet" />
<script src="site_libs/highlightjs-9.12.0/highlight.js"></script>
<meta charset="utf-8" />
<meta http-equiv="content-type" content="text/html" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<meta name="author" content="Carlos J. Peláez Rivas" />
<meta name="description" content="prLázarus blog de programación" />
<meta name="keywords" content="blog,programación,programacion,programming,coding,code,desarrollo,development,java,carlos, jesús,jesus,peláez,pelaez,rivas,cjpelaez,cjpelaezrivas,málaga,malaga,uma,españa,spain" />

<link rel="icon" type="image/x-icon" href="images/favicon.ico"/>
<link rel="shortcut icon" type="image/x-icon" href="images/favicon.ico"/>

<link rel="stylesheet" type="text/css" href="css/font-awesome.min.css"/>
<link rel="stylesheet" type="text/css" href="css/lightbox.min.css"/>

<link rel="stylesheet" type="text/css" href="css/base.css"/>
<link rel="stylesheet" type="text/css" href="css/main.css"/>
<link rel="stylesheet" type="text/css" href="css/toc.css"/>
<link rel="stylesheet" type="text/css" href="css/print.css" media="print"/>

<script src="js/scroll.js"></script>
<script src="js/tags.js"></script>
<script src="js/lightbox.min.js"></script> <!-- http://lokeshdhakar.com/projects/lightbox2/ -->
<script>
	lightbox.option({
	  'albumLabel': "Imagen %1 de %2",
	  'fadeDuration': 250,
	  'resizeDuration': 250,
	  'wrapAround': true
	})
</script>

<link rel="stylesheet" type="text/css" href="//cdnjs.cloudflare.com/ajax/libs/cookieconsent2/3.0.3/cookieconsent.min.css" />
<script src="//cdnjs.cloudflare.com/ajax/libs/cookieconsent2/3.0.3/cookieconsent.min.js"></script>
<script>
window.addEventListener("load", function(){
window.cookieconsent.initialise({
  "palette": {
    "popup": {
      "background": "#d4d4d4",
      "text": "#151515"
    },
    "button": {
      "background": "#003379",
      "text": "#ffffff"
    }
  },
  "content": {
    "message": "Este sitio web utiliza cookies propias y de terceros para que tengas la mejor experiencia de usuario posible. Si continuas navegando estás aceptando el uso de las mencionadas cookies y la política de cookies.",
    "dismiss": "Aceptar",
    "link": "Más información",
    "href": "http://prlazarus.tk/md_cookies_policy.html"
  }
})});
</script>

<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-74491738-2"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-74491738-2');
</script>

<style type="text/css">code{white-space: pre;}</style>
<style type="text/css">
  pre:not([class]) {
    background-color: white;
  }
</style>
<script type="text/javascript">
if (window.hljs) {
  hljs.configure({languages: []});
  hljs.initHighlightingOnLoad();
  if (document.readyState && document.readyState === "complete") {
    window.setTimeout(function() { hljs.initHighlighting(); }, 0);
  }
}
</script>



<style type="text/css">
h1 {
  font-size: 34px;
}
h1.title {
  font-size: 38px;
}
h2 {
  font-size: 30px;
}
h3 {
  font-size: 24px;
}
h4 {
  font-size: 18px;
}
h5 {
  font-size: 16px;
}
h6 {
  font-size: 12px;
}
.table th:not([align]) {
  text-align: left;
}
</style>


</head>

<body>

<style type = "text/css">
.main-container {
  max-width: 940px;
  margin-left: auto;
  margin-right: auto;
}
code {
  color: inherit;
  background-color: rgba(0, 0, 0, 0.04);
}
img {
  max-width:100%;
  height: auto;
}
.tabbed-pane {
  padding-top: 12px;
}
button.code-folding-btn:focus {
  outline: none;
}
</style>



<div class="container-fluid main-container">

<!-- tabsets -->
<script>
$(document).ready(function () {
  window.buildTabsets("TOC");
});
</script>

<!-- code folding -->





<link rel="stylesheet" type="text/css" href="css/navbar.css"/>

<div id="navbar">
	<div id="zoneA">
		<div class="content">
			<div id="logo">
				<a href="./"><img src="images/logo.png" alt="prLázarus logo"/></a>
			</div>

			<div id="subtitle">
				Blog de desarrollo de proyectos Software, tutoriales, consejos y varios.
			</div>
		</div>
	</div>
	<div id="zoneB">
		<div class="content">
			<div id="menu">
				<a class="menuItem" href="./"><i class="fa fa-home"></i><span class="text"> Página principal</span></a>
				<a class="menuItem" href="http://cjpelaezrivas.tk"><i class="fa fa-user-circle"></i><span class="text"> Sobre mí</span></a>
			</div>
		</div>
	</div>
</div>

<div class="fluid-row" id="header">



<h1 class="title toc-ignore">Copiar directorio y contenido [Java] [Windows]</h1>

</div>


<script type="text/javascript">
generateEntryInfo('martes, 10 de junio de 2014', 'Java', 'Tutoriales', 'Utilidades');
</script>
<p>Muy buenas gente,<br> hoy vamos a ver otro pequeño proceso que en este caso en lugar de borrar como el anterior se usará para copiar directorios de forma recursiva. Con esto quiero decir que le damos un directorio origen y un destino, y nuestro método creará el destino si no existe y toda la estructura de directorios que contenga. Además, también realizará una copia de todos y cada uno de los ficheros que vaya encontrando en todo el proceso.</p>
<pre class="java"><code>/**
 * Copiar un directorio y todo su contenido de forma recursiva
 * @param origen
 * @param destino
 */
private void copiarDirectorio(String origen, String destino) {
    comprobarCrearDirectorio(destino);
    File directorio = new File(origen);
    File f;
    if (directorio.isDirectory()) {
        comprobarCrearDirectorio(destino);
        String [] files = directorio.list();
        if (files.length &gt; 0) {
            for (String archivo : files) {
                f = new File (origen + File.separator + archivo);
                if(f.isDirectory()) {
                    comprobarCrearDirectorio(destino+File.separator+archivo+File.separator);
                    copiarDirectorio(origen+File.separator+archivo+File.separator, destino+File.separator+archivo+File.separator);
                } else { //Es un archivo
                    copiarArchivo(origen+File.separator+archivo, destino+File.separator+archivo);
                }
            }
        }
    }
}</code></pre>
<p>Como podéis ver, este proceso llama a copiar archivo. Este es el código necesario para copiar dos archivos dadas sus rutas absolutas.</p>
<pre class="java"><code>/**
 * Copia el archivo origen en el destino
 * @param sOrigen
 * @param sDestino
 */
private void copiarArchivo(String sOrigen, String sDestino) {
    try {
        File origen = new File(sOrigen);
        File destino = new File(sDestino);
        InputStream in = new FileInputStream(origen);
        OutputStream out = new FileOutputStream(destino);

        byte[] buf = new byte[1024];
        int len;

        while ((len = in.read(buf)) &gt; 0) {
            out.write(buf, 0, len);
        }

        in.close();
        out.close();

    } catch (FileNotFoundException e) {
        e.printStackTrace();
    } catch (IOException e) {
        e.printStackTrace();
    }
}</code></pre>
<p>Y por último, el proceso que podemos usar para comprobar si cierto directorio existe, y en caso contrario crearlo para evitar problemas y excepciones.</p>
<pre class="java"><code>/**
 * Comprueba si un directorio existe, y en caso contrario crea toda la ruta necesaria para que exista
 * @param ruta
 */
private void comprobarCrearDirectorio(String ruta) {
    File directorio = new File(ruta);
    if (!directorio.exists()) {
        directorio.mkdirs();
    }
}</code></pre>
<p>Este es un proceso muy poderoso. Tened en cuenta que copiará todo, manteniendo todas las propiedades y características, de modo que si no andáis con cuidado podríais llegar copiar el disco duro entero. Lo que sería muy gracioso y tardaría bastante…</p>
<p>Como en el caso anterior, me gustaría decir que aunque en el título se indica que el algoritmo es para Windows es por el único motivo de que ha sido en el único sistema operativo que lo he probado. Dada la naturaleza de Java, su ejecución no debería tener ningún inconveniente en cualquier otra plataforma.</p>
<p>Espero que os sea útil y hasta otra ocasión.</p>
<p>Saludos,<br> Lázarus Surazal.</p>

<link rel="stylesheet" type="text/css" href="css/navigation.css"/>

<hr>
<div class="navigateContainer">
	<a id ="navigationRight" class="navigateButton right navigateButtonInvisible" href="#">
		Siguiente
		<i class="fa fa-arrow-right"></i>
	</a>
	<a id="navigationLeft" class="navigateButton left navigateButtonInvisible" href="#">
		<i class="fa fa-arrow-left"></i>
		Anterior
	</a>
	<a class="navigateButton center" href="./">
		<i class="fa fa-home"></i>
		Volver a la página principal
	</a>
</div>

<script src="js/navigation.js"> </script>
<link rel="stylesheet" type="text/css" href="css/info.css"/>
<link rel="stylesheet" type="text/css" href="css/hint.base.min.css"/>

<div style="float:left; margin: 20px 0;">
	<div class="info_block" style="width:65%;">
		<div class="title">
			<b>Perfil</b>
		</div>
		<div class="content">
			<div class="part photo">
				<img src="images/logo_b.png" width="90px" alt="prLázarus logo info" />
			</div>
			<div class="part description">
				<b>Carlos J. Peláez Rivas (Lázarus Surazal)</b> <br>
				Graduado y Máster en Ingeniería Informática por la Universidad de Málaga. Actualmente trabajando como desarrollador de aplicaciones en Java usando Vaadin.<br>
				Apasionado de los videojuegos, la música y alguna que otra tecnología, siempre buscando cosas nuevas que aprender y hacer. <br>
				<a href="http://cjpelaezrivas.tk">Más sobre mi...</a>
			</div>
		</div>
	</div>
	<div class="info_block" style="width:35%;">
		<div class="title">
			<b>Contacto</b>
		</div>
		<div class="content links">
			<div class="item hint--bottom-right" data-hint="Perfil personal">
				<a href="http://cjpelaezrivas.tk"><i class="fa fa-user-circle" style="font-size:38.5px; position:relative; top:-1px;"></i></a>
			</div>
			<div class="item hint--bottom-right" data-hint="Enviar correo electrónico">
				<a href="mailto:cjpelaezrivas@gmail.com"><i class="fa fa-envelope-square"></i></a>
			</div>
			<div class="item hint--bottom-right" data-hint="Perfil de GitHub">
				<a href="https://github.com/cjpelaezrivas"><i class="fa fa-github-square"></i></a>
			</div>
			<div class="item hint--bottom-right" data-hint="Perfil de LinkedIn">
				<a href="https://www.linkedin.com/in/cjpelaezrivas"><i class="fa fa-linkedin-square"></i></a>
			</div>
		</div>
	</div>
</div>
<div id="comments" style="float:left; width:100%;">
	<script src="https://utteranc.es/client.js"
		repo="cjpelaezrivas/prLazarus"
		issue-term="title"
		crossorigin	="anonymous"
		async>
	</script>
	<noscript>Please enable JavaScript to view the comments.</noscript>
</div>
<link rel="stylesheet" type="text/css" href="css/footer.css"/>

<div class="message" style="padding: 10px 0 25px 0">
	¿Has encontrado algún error? <a href="mailto:cjpelaezrivas@gmail.com">Mándame un correo electrónico para corregirlo</a>. Gracias.
</div>
<div class="footer">
	<div class="content">
		<div id="logo_footer">
			<a href="http://prlazarus.tk"><img src="images/logo_c.png" alt="prLázarus logo footer"/></a>
		</div>
		<div id="text">
			Todo el contenido de este blog pertenece a <a href="http://prlazarus.tk">prLázarus</a><br>
			<i class="fa fa-plug"></i> <i>Con la tecnología de <a href="http://rmarkdown.rstudio.com/index.html">R Markdown</a> y <a href="https://pages.github.com/">GitHub Pages</a></i><br>
			<i><a href="md_cookies_policy.html">Política de cookies</a></i>
		</div>
	</div>
</div>

<script src="js/toc.js"></script>
<link rel="stylesheet" type="text/css" href="css/progressBar.css"/>

<div class="progressBarContainer">
	<div class="progressBar">
	</div>
</div>

<script src="js/progressBar.js"></script>



</div>

<script>

// add bootstrap table styles to pandoc tables
function bootstrapStylePandocTables() {
  $('tr.header').parent('thead').parent('table').addClass('table table-condensed');
}
$(document).ready(function () {
  bootstrapStylePandocTables();
});


</script>


</body>
</html>
